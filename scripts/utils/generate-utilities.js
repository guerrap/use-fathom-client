import { writeFile } from "fs/promises";

export const generateUtilities = async (outDir) => {
  const content = `// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.

import { FATHOM_REGISTERED_EVENTS } from "./mappings";
import type { FathomRegisteredEventName } from "./types";

export function registeredEventsResolver(event: FathomRegisteredEventName): string | undefined {
  return FATHOM_REGISTERED_EVENTS.find(siteEvent => siteEvent.name === event)?.id;
}
`;

  await writeFile(outDir, content);
};
